# Copy this file to .env and fill in real values.
# .env is git-ignored — never commit real credentials.

PORT=8000
MONGO_URI=mongodb://localhost:27017/fintech

# Sendbird (required)
SENDBIRD_APP_ID=your-sendbird-app-id
SENDBIRD_API_TOKEN=your-sendbird-api-token
SENDBIRDDESKAPITOKEN=your-sendbird-desk-api-token

# HubSpot (optional — skip to disable HubSpot ticket creation)
HUBSPOT_TOKEN=your-hubspot-private-app-token

# Stripe (optional — leave blank to run in demo mode without real payments)
# Test keys start with sk_test_ and whsec_ — safe for sandbox use only
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# The public URL of your frontend (used for Stripe success/cancel redirect URLs)
FRONTEND_URL=https://your-frontend.vercel.app

# Redis (optional — omit to use in-memory idempotency fallback)
REDIS_URL=redis://localhost:6379

# ============================================================
# OPENAI — Hybrid LLM Intent Engine
# ============================================================
# Add your OpenAI API key here.  DO NOT hardcode it in server.js.
# The server uses gpt-4o-mini for intent classification and response generation.
# If this key is missing, the bot silently falls back to rule-based detection.
OPENAI_API_KEY=sk-your-openai-api-key-here

# Optional: override the default $5 test budget (default: 5.00)
# The server will warn you in console logs at 60% and 80% usage,
# and will stop making LLM API calls entirely once the budget is reached.
OPENAI_BUDGET_USD=5.00

# ============================================================
# PER-USER RATE LIMITING (Redis-based sliding window)
# ============================================================
# Max messages per user per minute (default: 10)
# Prevents token burn from spammy users
USER_RATE_LIMIT_MIN=10

# Max messages per user per day (default: 100)
USER_RATE_LIMIT_DAY=100

# ============================================================
# AGENT-AWAY FALLBACK TIMER
# ============================================================
# Milliseconds to wait before sending "agent is away" message (default: 30 seconds)
AGENT_REPLY_TIMEOUT_MS=30000
